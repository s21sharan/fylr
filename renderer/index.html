<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Fylr</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="header-section">
      <h1>Fylr</h1>
      <div class="mode-toggle">
        <span class="mode-label">Local</span>
        <label class="switch">
          <input type="checkbox" id="modeToggle">
          <span class="slider round"></span>
        </label>
        <span class="mode-label">Online</span>
      </div>
    </div>
    
    <div class="tabs">
      <button class="tab-btn active" data-tab="initial-organize">Initial Organize</button>
      <button class="tab-btn" data-tab="live-mode">Live Mode</button>
      <button class="tab-btn" data-tab="agentic-search">Agentic Search</button>
      <button class="tab-btn" data-tab="file-rename">File Rename</button>
    </div>

    <div class="tab-content active" id="initial-organize">
      <div class="input-section">
        <div class="directory-input">
          <input 
            type="text" 
            id="directoryPath" 
            placeholder="Type or browse for directory path..."
            spellcheck="false"
          >
          <button id="browseBtn">Browse</button>
        </div>
        <button id="analyzeBtn" disabled>Analyze Files</button>
      </div>
      
      <div class="loader" id="loader">
        <div class="spinner"></div>
        <p>Analyzing files and generating structure...</p>
      </div>
      
      <div class="results-container" id="resultsContainer">
        <h2>Proposed File Structure</h2>
        <div class="button-bar">
          <button id="addDirBtn">Add Directory</button>
          <button id="expandAllBtn">Expand All</button>
          <button id="collapseAllBtn">Collapse All</button>
        </div>
        <div class="tree-container">
          <div id="fileTree" class="file-tree"></div>
        </div>
        <div class="controls-container">
          <button id="resetBtn">Reset to Original</button>
          <button id="applyBtn">Apply Changes</button>
        </div>
        
        <!-- Chat feature -->
        <div class="chat-container">
          <button id="chatToggleBtn" class="chat-toggle-btn">
            <span class="chat-icon">ðŸ’¬</span>
            <span class="chat-label">Chat Assistant</span>
          </button>
          <div id="chatInterface" class="chat-interface hidden">
            <div id="chatMessages" class="chat-messages"></div>
            <div class="chat-input-container">
              <input type="text" id="chatInput" placeholder="Ask how to organize your files...">
              <button id="chatSendBtn">Send</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="live-mode">
      <h2>Live Mode</h2>
      <p>Live file organization coming soon...</p>
    </div>

    <div class="tab-content" id="agentic-search">
      <h2>Agentic Search</h2>
      <p>Intelligent file search coming soon...</p>
    </div>

    <div class="tab-content" id="file-rename">
      <h2>File Rename</h2>
      <div class="rename-section">
        <div class="directory-input">
          <input 
            type="text" 
            id="renameDirectoryPath" 
            placeholder="Type or browse for directory path..."
            spellcheck="false"
          >
          <button id="renameBrowseBtn" class="browse-btn">Browse</button>
        </div>
        <div class="rename-options">
          <div class="rename-preview">
            <div class="rename-table">
              <div class="table-header">
                <div class="col-original">Original Name</div>
                <div class="col-new">New Name</div>
                <div class="col-type">Type</div>
                <div class="col-size">Size</div>
                <div class="col-actions">Actions</div>
              </div>
              <div id="renamePreview" class="table-body"></div>
            </div>
          </div>
        </div>
        <div class="rename-buttons">
          <button id="generateNamesBtn" class="primary-btn" disabled>Generate Names</button>
          <button id="renameApplyBtn" class="primary-btn" disabled>Rename Files</button>
        </div>
      </div>
    </div>
    
    <div id="messageContainer" class="message-container"></div>
  </div>
  
  <script src="renderer.js"></script>
</body>
</html>